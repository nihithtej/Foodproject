@model MvcFood.Models.Viewmodel

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

@{
    ViewData["Title"] = "Food Nutrition Details";
}



<h1>Nutrition Details</h1>

<p style="font-size:20px;"><b>Note: Graph is end of this page. Please scroll to bottom.</b></p>


<table class="table table-striped">
    <tr>
        <td><b>Nutrient Name</b></td>
        <td><b>Value</b></td>
        <td><b>Units</b></td>

    </tr>
    
    @foreach (var item in Model.foodnutrients)
    {
        <tr>
            <td>@item.nutrientvm.nutrientName</td>
            <td>@item.foodvm.value</td>
            <td>@item.foodvm.unitName</td>
        </tr>
    }
</table>

<canvas id="pie-chart" width="100" height="100"></canvas>

<script>
    new Chart(document.getElementById("pie-chart"), {
        type: 'pie',
        data: {
            labels: @Html.Raw(@Model.str),
            datasets: [{
                label: "Nutrition Information",
                backgroundColor: ["#0074D9", "#FF4136", "#2ECC40", "#FF851B", "#7FDBFF", "#B10DC9", "#FFDC00", "#001f3f", "#39CCCC", "#01FF70", "#85144b", "#F012BE", "#3D9970", "#111111", "#AAAAAA"],
                data: @Html.Raw(@Model.num)
            }]
        },
        options: {
            title: {
                display: true,
                text: 'Nutrition Information'
            }
        }
    });

</script>